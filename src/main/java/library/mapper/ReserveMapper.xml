<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="library.mapper.ReserveMapper">
	<resultMap id="ReserveResult" type="library.entity.Book">
        <result column="book_id" property="bookId" />
        <result column="book_kanaByte" property="bookKanaByte" />
        <result column="book_name" property="bookName" />
        <result column="author_kanaByte" property="authorKanaByte" />
        <result column="author_name" property="authorName" />
        <result column="publisher" property="publisher" />
        <result column="isbn" property="isbn" />
        <result column="shelf_id" property="shelfId" />
        <result column="library_id" property="libraryId" />
        <result column="status_id" property="status" />

    </resultMap>
    <select id="getSearchedBook" resultMap="ReserveResult">
        SELECT book.book_id, book.book_name, book.author_name, book.publisher, book.document_id, book.shelf_id,
        book.status_id
        FROM library.book
        WHERE 1
        <if test="bookKanaByte != null">
        AND book_kanaByte like #{bookKanaByte}
        </if>
        <if test="bookName != null">
        AND book_name like #{bookName}
        </if>
        <if test="authorKanaByte != null">
        AND author_kanaByte like #{authorKanaByte}
        </if>
        <if test="authorName != null">
        AND author_name like #{authorName}
        </if>
        <if test="publisher != null">
        AND publisher like #{publisher}
        </if>
        <if test="isbn != 0">
        AND isbn like #{isbn}
        </if>
        <if test="documentId != 0">
        AND document_id like #{documentId}
        </if>
        <if test="shelfId != 0">
        AND shelf_id like #{shelfId}
        </if>
    </select>
</mapper>